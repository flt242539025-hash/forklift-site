<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>中古フォークリフト在庫一覧</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 16px;
      background: #f5f5f5;
    }
    h1 {
      text-align: center;
      margin-bottom: 16px;
    }
    .search-panel {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      background: #fff;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.06);
    }
    .search-item {
      display: flex;
      flex-direction: column;
      font-size: 12px;
      min-width: 150px;
      flex: 1;
    }
    .search-item label {
      margin-bottom: 2px;
      color: #555;
    }
    .search-item input,
    .search-item select {
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 13px;
    }
    #searchBtn {
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      background: #0070c9;
      color: #fff;
      font-size: 13px;
      cursor: pointer;
      align-self: flex-end;
    }
    #searchBtn:hover { opacity: .9; }
    #count {
      font-size: 13px;
      margin-bottom: 8px;
    }
    .list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 12px;
    }
    .card {
      background: #fff;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.06);
      font-size: 13px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .card img.thumb {
      width: 100%;
      border-radius: 8px;
      object-fit: cover;
      max-height: 180px;
    }
    .card h3 {
      margin: 0;
      font-size: 14px;
    }
    .card .meta {
      color: #555;
      margin-bottom: 4px;
      line-height: 1.4;
    }
    .card .price {
      color: #c0392b;
      font-weight: 700;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>中古フォークリフト在庫一覧</h1>

  <section class="search-panel">
    <!-- メーカー -->
    <div class="search-item">
      <label>メーカー</label>
      <select id="maker">
        <option value="">すべて</option>
        <option value="TOYOTA">トヨタ</option>
        <option value="KOMATSU">コマツ</option>
        <option value="MITSUBISHI">三菱</option>
        <option value="OTHER">その他</option>
      </select>
    </div>

    <!-- トン数（範囲：未満） -->
    <div class="search-item">
      <label>トン数</label>
      <select id="tonRange">
        <option value="">すべて</option>
        <option value="<1.0">1.0t未満</option>
        <option value="<1.5">1.5t未満</option>
        <option value="<2.0">2.0t未満</option>
        <option value="<2.5">2.5t未満</option>
        <option value="<3.0">3.0t未満</option>
        <option value="<3.5">3.5t未満</option>
        <option value="<4.0">4.0t未満</option>
        <option value="<4.5">4.5t未満</option>
        <option value="<5.0">5.0t未満</option>
      </select>
    </div>

    <!-- アワーメーター（最大値・1000h単位） -->
    <div class="search-item">
      <label>アワーメーター（最大 / 1000h単位）</label>
      <input type="number" id="hoursMax" step="1000" placeholder="例：3000">
    </div>

    <!-- 年式（レンジ指定） -->
    <div class="search-item">
      <label>年式</label>
      <select id="yearRange">
        <option value="">すべて</option>
        <option value="2000-2010">2000〜2010年</option>
        <option value="2011-2020">2011〜2020年</option>
        <option value="2021-2025">2021〜2025年</option>
      </select>
    </div>

    <button id="searchBtn">検索</button>
  </section>

  <p id="count"></p>
  <div id="list" class="list"></div>

  <script>
    // --- 在庫データ ---
    // img には画像のURLを入れてください（例ではダミー画像）
    const forklifts = [
      {
        maker: "TOYOTA",
        model: "8FGL15",
        ton: 1.5,
        hours: 2300,
        year: 2018,
        price: 880000,
        img: "https://placehold.co/400x250?text=TOYOTA+8FGL15"
      },
      {
        maker: "KOMATSU",
        model: "FD25-16",
        ton: 2.5,
        hours: 4200,
        year: 2013,
        price: 780000,
        img: "https://placehold.co/400x250?text=KOMATSU+FD25-16"
      },
      {
        maker: "MITSUBISHI",
        model: "FG18N",
        ton: 1.8,
        hours: 1800,
        year: 2021,
        price: 1250000,
        img: "https://placehold.co/400x250?text=MITSUBISHI+FG18N"
      },
      {
        maker: "OTHER",
        model: "バッテリー車 A-15",
        ton: 1.3,
        hours: 900,
        year: 2010,
        price: 650000,
        img: "https://placehold.co/400x250?text=OTHER+A-15"
      }
    ];

    function render(list) {
      const wrap = document.getElementById("list");
      const count = document.getElementById("count");
      wrap.innerHTML = "";
      count.textContent = list.length + " 件ヒット";

      if (list.length === 0) {
        wrap.innerHTML = "<p>条件に合う在庫がありませんでした。</p>";
        return;
      }

      list.forEach(item => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <img class="thumb" src="${item.img}" alt="${item.maker} ${item.model}">
          <h3>${item.maker} ${item.model}</h3>
          <div class="meta">
            トン数：${item.ton}t<br>
            アワー：${item.hours.toLocaleString()} h<br>
            年式：${item.year}年
          </div>
          <div class="price">${item.price.toLocaleString()} 円</div>
        `;
        wrap.appendChild(div);
      });
    }

    function search() {
      const maker = document.getElementById("maker").value;
      const tonRangeVal = document.getElementById("tonRange").value;
      const hoursMax = parseFloat(document.getElementById("hoursMax").value);
      const yearRangeVal = document.getElementById("yearRange").value;

      let tonUpper = null;
      if (tonRangeVal) {
        tonUpper = parseFloat(tonRangeVal.replace("<", ""));
      }

      let yearMin = null;
      let yearMax = null;
      if (yearRangeVal) {
        const parts = yearRangeVal.split("-");
        yearMin = parseInt(parts[0], 10);
        yearMax = parseInt(parts[1], 10);
      }

      const result = forklifts.filter(f => {
        if (maker && f.maker !== maker) return false;

        if (tonUpper !== null && f.ton >= tonUpper) return false;

        if (!isNaN(hoursMax) && f.hours > hoursMax) return false;

        if (yearMin !== null && f.year < yearMin) return false;
        if (yearMax !== null && f.year > yearMax) return false;

        return true;
      });

      render(result);
    }

    document.getElementById("searchBtn").addEventListener("click", search);

    // 初期表示
    render(forklifts);
  </script>
</body>
</html>
